<nb-card>
    <nb-card-header class="header-section">Create Page</nb-card-header>
    <nb-card-body>
        <h2 class="form-header-section">Personal Information</h2>
        <hr class="hr-vertical">
        <form [formGroup]="saveInfoForm">
            <div class="row">
                <div class="col-sm-6 mb-2">
                    <div class="form-group row">
                        <label for="customerType" class="label col-sm-4 col-form-label">Name<span
                                class="text-danger">*</span> :</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" formControlName="name" fullWidth placeholder="Name">
                            <div *ngIf="f.name.touched && f.name.invalid" class="alert alert-danger">
                                <div *ngIf="f.name.errors?.required">Please Enter Name!</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 mb-2">
                    <div class="form-group row">
                        <label for="customerType" class="label col-sm-4 col-form-label">Date Of Birth :</label>
                        <div class="col-sm-8">
                            <input nbInput placeholder="Select Date" formControlName="dateOfBirth" fullWidth (ngModelChange)="dateChange($event)" [nbDatepicker]="formpicker">
                            <nb-datepicker #formpicker ></nb-datepicker>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6 mb-2">
                    <div class="form-group row">
                        <label for="customerType" class="label col-sm-4 col-form-label">Country<span
                                class="text-danger">*</span> :</label>
                        <div class="col-sm-8">
                            <nb-select fullWidth placeholder="Please Select Country" formControlName="countryId"
                            (selectedChange)="citySelect($event)">
                                <nb-option *ngFor="let item of countries"
                                    [value]="item.id">{{item.countryName}}</nb-option>
                            </nb-select>
                        </div>
                    </div>
                </div>

                <div class="col-sm-6 mb-2">
                    <div class="form-group row">
                        <label for="customerType" class="label col-sm-4 col-form-label">City<span
                                class="text-danger">*</span> :</label>
                        <div class="col-sm-8">
                            <nb-select fullWidth placeholder="Please Select City" formControlName="cityId">
                                <nb-option *ngFor="let item of city" [value]="item.id">{{item.cityName}}</nb-option>
                            </nb-select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6 mb-1">
                    <div class="form-group row">
                        <label for="customerType" class="label col-sm-4 col-form-label">Language Skills<span
                                class="text-danger">*</span> :</label>
                        <div class="col-sm-8">
                            <li *ngFor="let item of lstLanguage">
                                <input type="checkbox" [checked]="getSelection(item)" (change)="changeHandler(item)">
                                <label>{{item.languageName}}</label>
                            </li>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 mb-1">
                    <div class="form-group row">
                        <label for="customerType" class="label col-sm-4 col-form-label">Upload Resume :</label>
                        <div class="col-sm-8">
                            <input type="file" fullWidth class="btn btn-secondary" (change)="onFileSelected($event)" />
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </nb-card-body>
    <nb-card-footer>
        <div class="row">
            <div class="col-sm-6">
                <div class="row">
                    <div class="col-sm-4"></div>
                    <div class="col-sm-8">
                        <div class="row">
                            <div class="col-sm-4">
                                <button type="submit" nbButton fullWidth status="primary" (click)="submitForm()"> Save </button>
                            </div>
                            <div class="col-sm-4">
                                <button nbButton fullWidth status="warning" (click)="reRender()"> Refresh </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nb-card-footer>
</nb-card>

<nb-card>
    <nb-card-header class="header-section">Person Lists</nb-card-header>
    <nb-card-body>
        <div class="wrapper wrapper-content animated fadeInRight">
            <div class="row">
              <div class="col-lg-12">
                <div class="ibox">
                  <div class="ibox-content">
                    <div class="table-responsive">
                      <table
                        datatable
                        [dtOptions]="dtOptions"
                        [dtTrigger]="dtTrigger"
                        class="table table-striped table-bordered table-hover dataTables-example text-center" 
                        >
                        <thead>
                          <tr>
                            <tr>
                              <th style="width: 5%;">SN</th>
                              <th style="width: 10%;">Name</th>
                              <th style="width: 10%;">Country</th>
                              <th style="width: 10%;">City</th>
                              <!-- <th style="width: 10%;">Language Skills</th> -->
                              <th style="width: 10%;">Resume</th>
                              <th style="width: 10%;">Date Of Birth</th>
                              <th style="width: 20%;">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let item of infodata; let i = index">
                            <th style="width: 5%;">{{i+1}}</th>
                            <td style="width: 10%;">{{item.name}}</td>
                            <td style="width: 10%;">{{item.countryName}}</td>
                            <td style="width: 10%;">{{item.cityName}}</td>
                            <!-- <td style="width: 10%;">{{item.cityName}}</td> -->
                            <td style="width: 10%;"><a href="#" class="link-primary download" (click)="fileDownload(item.id)">{{item.fileNames}}</a></td>
                            <td style="width: 10%;">{{item.dateOfBirth | date}}</td>
                            <td style="width: 10%;">
                                <i class="fa fa-edit fa-1x p-2 bg-primary text-white rounded"
                                (click)="getInformationById(item.id)"></i>
                              &nbsp;
                              <i class="fa fa-trash fa-1x p-2 bg-danger text-white rounded"
                                (click)="deletePersonInformation(item.id)"></i>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
    </nb-card-body>
</nb-card>