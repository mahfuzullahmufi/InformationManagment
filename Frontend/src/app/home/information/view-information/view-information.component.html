<nb-card *ngIf="!isTrue">
  <nb-card-header class="header-section">All Person Lists</nb-card-header>
  <nb-card-body>
    <div class="row justify-content-end">
      <div class="col-sm-2 p-1 m-1">
        <button nbButton fullWidth status="primary" (click)="generatePdf()">Generate Pdf</button>
      </div>
    </div>
    <div class="wrapper wrapper-content animated fadeInRight">
      <div class="row">
        <div class="col-lg-12">
          <div class="ibox">
            <div class="ibox-content">
              <div class="table-responsive">
                <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-bordered table-hover dataTables-example text-center">
                  <thead>
                    <tr>
                      <th style="width: 5%;">SN</th>
                      <th style="width: 10%;">Name</th>
                      <th style="width: 10%;">Country</th>
                      <th style="width: 10%;">City</th>
                      <th style="width: 10%;">Language Skills</th>
                      <th style="width: 10%;">Resume</th>
                      <th style="width: 10%;">Date Of Birth</th>
                      <th style="width: 20%;">Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let item of infodata; let i = index">
                      <th style="width: 5%;">{{ i + 1 }}</th>
                      <td style="width: 10%;">{{ item.name }}</td>
                      <td style="width: 10%;">{{ item.countryName }}</td>
                      <td style="width: 10%;">{{ item.cityName }}</td>
                      <td style="width: 10%;">{{ formatLanguages(item.personLanguages) }}</td>
                      <td style="width: 10%;">
                        <a href="#" class="link-primary download" (click)="fileDownload(i)">{{ item.fileNames }}</a>
                      </td>
                      <td style="width: 10%;">{{ item.dateOfBirth | date }}</td>
                      <td style="width: 10%;">
                        <i class="fa fa-edit fa-1x p-2 bg-primary text-white rounded" (click)="editInformation(item.id)"></i>
                        &nbsp;
                        <i class="fa fa-trash fa-1x p-2 bg-danger text-white rounded" (click)="deletePersonInformation(item.id)"></i>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nb-card-body>
</nb-card>

<div *ngIf="isTrue && report != ''">
  <div class="row">
    <div class="col-sm-12 d-flex justify-content-end pb-2">
      <nb-select placeholder="Export Type" (selectedChange)="onChangeExportType($event)">
        <nb-option *ngFor="let exportType of exportTypeList" [value]="exportType.id">{{ exportType.name }}</nb-option>
      </nb-select> &nbsp;
      <button type="submit" nbButton status="info" (click)="onSearchAgain()">Search Again</button>
    </div>
  </div>
  <ngx-extended-pdf-viewer [base64Src]="report" backgroundColor="#525659" [height]="'100vh'"></ngx-extended-pdf-viewer>
</div>
